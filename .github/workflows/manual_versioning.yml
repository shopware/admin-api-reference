name: Schedule version PRs

on:
  workflow_dispatch:
    inputs:
      shopware_version:
        description: "Shopware version"
        required: true
        type: string
      trigger_default_schema:
        description: "Trigger schema"
        required: false
        type: boolean
        default: true
      trigger_commercial_schema:
        description: "Trigger commercial schema"
        required: false
        type: boolean
        default: true
      trigger_digitalsalesroom_schema:
        description: "Trigger digitalsalesroom schema"
        required: false
        type: boolean
        default: true

jobs:
  generate-trunk:
    uses: ./.github/workflows/base_schema.yml
    with:
      shopware_version: ${{ inputs.shopware_version }}
    secrets: inherit
    
  generate-commercial-trunk:
    uses: ./.github/workflows/plugin_commercial_schema.yml
    with:
      shopware_version: ${{ inputs.shopware_version }}
    secrets: inherit
    
  generate-digitalsalesroom-trunk:
    uses: ./.github/workflows/plugin_digitalsalesroom_schema.yml
    with:
      shopware_version: ${{ inputs.shopware_version }}
    secrets: inherit
